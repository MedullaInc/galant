<div ng-repeat="service in quote.service_sections">
    <div class="row">
        <div class="col-xs-offset-0 col-xs-2 section_content">
            <div data-inputclass="selector" editable-text="service.service.name[language]" e-name="name" e-form="rowform" e-required>
                {{ service.service.name[language] || 'empty' }}
            </div>
        </div>
        <div class="col-xs-1 section_content">
            <div editable-text="service.service.quantity" e-name="quantity" e-form="rowform" e-required>
                {{ service.service.quantity || 'empty' }}
            </div>
        </div>
         <div class="col-xs-2 section_content">
            <div editable-select="service.service.type" e-name="type" e-form="rowform" e-ng-options="s.value as s.text for s in serviceFields">
                {{showType(service)}}
            </div>
        </div>       
        <div class="col-xs-2 section_content">
            <div editable-text="service.service.cost.amount" e-name="amount" e-form="rowform" e-required>
                {{ service.service.cost.amount || 'empty' }}
            </div>
        </div>
        <div class="col-xs-2 section_content">
            {{ service.service.cost.amount * service.service.quantity | currency }}
        </div>
        <!-- form -->
        <form editable-form name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == service">
          <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-default save_button">
            <span class="glyphicon glyphicon-floppy-disk">
          </button>
          <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default save_button">
            <span class="glyphicon glyphicon-remove">
          </button>
        </form>
        <div class="buttons" ng-show="!rowform.$visible">
          <button class="btn btn-default edit_button" ng-click="rowform.$show()">
            <span class="glyphicon glyphicon-edit"/>
          </button>
          <button class="btn btn-default delete_button" ng-click="removeServiceSection($index)">
            <span class="glyphicon glyphicon-trash"/>
          </button>
        </div>  
        </div>
    </div>

    <div class="row">
            <div class="col-xs-offset-5 col-xs-2 section_content">
                <p>
                    <strong>Total</strong>
                </p>
            </div>
            <div class="col-xs-2 section_content">
                <p>
                    <strong>{{ getTotal() |currency }}</strong>
                </p>
            </div>
    </div>
    <button class="btn btn-default" ng-click="addServiceSection()">Add Service</button>

    <br>
    <br>

    <h2 class="section_title">
        Quote Sections
    </h2>

    <hr>


  <ul data-as-sortable="board.dragControlListeners" data-ng-model="quote.sections">
    <li data-ng-repeat="section in quote.sections | orderBy:'textsection.index'" data-as-sortable-item>
      <div as-sortable-item-handle class="as-sortable-item-handle" >
        <div class="row">
            <div class="col-lg-12" ng-click="isCollapsed = !isCollapsed">
                <p>
                    {{ section.textsection.name }}:
                </p>
            </div>
        </div>

        <div class="row" uib-collapse="isCollapsed">
            <div class="col-lg-8">
                <h2 class="section_subtitle" editable-text="section.textsection.title[language]" e-name="title" e-form="rowform" e-required>
                    {{ section.textsection.title[language] || 'empty' }}
                </h2>
                <br>
                <p editable-text="section.textsection.text[language]" e-name="text" e-form="rowform" e-required>
                    {{ section.textsection.text[language] || 'empty' }}
                </p>
          </div>

          <div class="col-lg-4">
              <form editable-form name="rowform" onbeforesave="saveUser($data, user.id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == section">
                <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-default save_button">
                  <span class="glyphicon glyphicon-floppy-disk">
                </button>
                <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default save_button">
                  <span class="glyphicon glyphicon-remove ">
                </button>
              </form>
              <div class="buttons" ng-show="!rowform.$visible">
                <button class="btn btn-default edit_button" ng-click="rowform.$show()">
                  <span class="glyphicon glyphicon-edit"/>
                </button>
                <button class="btn btn-default delete_button" ng-click="removeSection($index)">
                  <span class="glyphicon glyphicon-trash"/>
                </button>
              </div> 
          </div>        
        </div>
      </div>
    </li>
  </ul>


  <button class="btn btn-default" ng-click="addSection()">Add Section</button>
