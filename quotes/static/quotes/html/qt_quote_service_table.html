<div class="enclosed">
    <h2 class="section_title">
        Services
    </h2>
    <div class="row">
        <div class="col-xs-offset-0 col-xs-2 section_content">
            <p>
                <strong>Service</strong>
            </p>
        </div>
        <div class="col-xs-2 section_content">
            <p>
                <strong>Quantity</strong>
            </p>
        </div>
        <div class="col-xs-2 section_content">
            <p>
                <strong>Type</strong>
            </p>
        </div>
        <div class="col-xs-2 section_content">
            <p>
                <strong>Unit Price</strong>
            </p>
        </div>
        <div class="col-xs-2 section_content">
            <p>
                <strong>Subtotal</strong>
            </p>
        </div>
        <div class="col-xs-2 section_content">
            <p>
                <strong></strong>
            </p>
        </div>
    </div>

    <ul data-as-sortable="dragControlListeners" data-ng-model="quote.services" is-disabled="sortDisabled">
        <li ng-repeat="service in quote.services" data-as-sortable-item>
            <div id="service_{{$index}}" style="padding: 30px 0px 30px 0px;" as-sortable-item-handle
                 class="as-sortable-item-handle">
                <div class="row">
                    <form editable-form name="rowform" shown="!service.name"></form>
                    <span ng-click="showRowForm(rowform)">
                    <div class="col-xs-offset-0 col-xs-2 section_content">
                        <div name="name" e-class="form-control" editable-text="service.name[language]"
                             e-id="service_name_{{$index}}" e-form="rowform" e-required
                             e-placeholder="Service Name">
                            {{ service.name[language] || 'empty' }}
                        </div>
                    </div>
                    <div class="col-xs-2 section_content">
                        <div e-class="form-control" editable-text="service.quantity" e-id="quantity_{{$index}}"
                             e-form="rowform" e-required
                             e-placeholder="Quantity">
                            {{ service.quantity || 'empty' }}
                        </div>
                    </div>
                    <div class="col-xs-2 section_content">
                        <div e-class="form-control" editable-select="service.type" e-id="type_{{$index}}"
                             e-form="rowform" editable-placeholder="Choose type..."
                             e-ng-options="key as val for (key, val) in serviceFields">
                            {{ showType(service) }}
                        </div>
                    </div>
                    <div class="col-xs-2 section_content">
                        <div e-class="form-control" editable-text="service.cost.amount" e-id="amount_{{$index}}"
                             e-form="rowform" e-required
                             e-placeholder="Cost">
                            {{ service.cost.amount || 'empty'}}
                        </div>
                    </div>
                    <div class="col-xs-2 section_content">
                        <p>
                            {{ service.cost.amount * service.quantity | currency }}
                        </p>
                    </div>
                    <div class="col-xs-2 section_content" ng-show="showViews()">
                        <span class="label label-success" uib-tooltip="Times Expanded"
                              tooltip-placement="right">{{ service.views }}</span>
                    </div>
                    </span>

                    <div class="row" style="padding-top:10px">
                        <div class="col-xs-12 section_content">
                            <div e-class="form-control" editable-text="service.description[language]"
                                 e-id="description_{{$index}}" e-form="rowform" e-required
                                 e-placeholder="Description">
                                <div ng-init="moreShown = false; limit = 100">
                                    {{ service.description[language] | cut:true:limit:'...'}}
                                    <a ng-show="service.description[language].length > limit"
                                       href
                                       ng-click="showService(service); moreShown = true; limit=service.description[language].length;">
                                        More
                                    </a>
                                    <a ng-show="moreShown" ng-click="moreShown = false; limit=100"> Less </a>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div gl-edit-buttons form="rowform" hide="!showEdit()"
                         delete="removeService($index)" prefix="service{{ $index }}">
                    </div>
                </div>
            </div>
        </li>
    </ul>


    <div class="row">

        <div class="col-xs-offset-6 col-xs-2 section_content">
            <p>
                <strong>Total</strong>
            </p>
        </div>

        <div class="col-xs-2 section_content">
            <p>
                <strong>{{ getTotal() |currency }}</strong>
            </p>
        </div>

    </div>

</div>