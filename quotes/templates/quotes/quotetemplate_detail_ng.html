{% extends "base_sidebar_enclosed.html" %}
{% load bootstrap i18n %}
{% load static %}

{% block extra_wrapper_attrs %} ng-app="quote" {% endblock %}

{% block messages %}
    <div gl-alerts></div>
    {{ block.super }}
{% endblock %}

{% block section_title %}
    {% trans "Quote Template" %}
{% endblock %}

{% block sidebar %}
        <a href="{% url 'add_quote' %}?template_id={{ template_id }}">
            <button type="button" class="btn btn-default sidebar" id="add_brief">
                Use For New Quote
            </button>
        </a>
{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script src="{% static "js/angular.js" %}"></script>
    <script src="{% static "js/angular-resource.js" %}"></script>
    <script src="{% static "js/angular-animate.js" %}"></script>
    <script src="{% static "js/xeditable.min.js" %}"></script>
    <script src="{% static "js/ui-bootstrap-tpls.js" %}"></script>
    <script src="{% static "djng/js/django-angular.min.js" %}"></script>
    <script src="{% static "js/ng-sortable.min.js" %}"></script>
    <script src="{% static "js/smart-table.js" %}"></script>
    <script src="{% static "js/gallant.js" %}"></script>
    <script src="{% static "js/quotes.js" %}"></script>
{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static "css/xeditable.css" %}">
    <link rel="stylesheet" href="{% static "css/ng-sortable.style.min.css" %}">
    <link rel="stylesheet" href="{% static "css/ng-sortable.min.css" %}">


    <style>
        [name="name"]{
           width: 110px;
        }
        [name="quantity"]{
           width: 70px;
        }
        [name="amount"]{
           width: 70px;
        }
    </style>


{% endblock %}

{% block center_content %}
    <div ng-controller="glFormController"
       ng-init="init('{% firstof language LANGUAGE_CODE %}', '{{ csrf_token }}')">
      <div qt-quote-form quote-template="object" endpoint="objectEndpoint"
           language="currentLanguage" forms="forms" delete-object="deleteObject"
           client-id="{{ client.id }}" project-id="{{ project.id }}"
           bool-template="True" delete-object="deleteObject" template-id="{{ template_id }}" user-id="{{user.id}}">
      </div>
    <div id="form_actions">
        <div class="row">
            <div class="col-lg-12">
                <div class="form-actions">
                        <button id="create_submit" class="btn btn-default pull-left" type="submit"
                                ng-click="submitForm()">
                            {{ submit_text|default:_("Save") }}
                        </button>
                </div>
            </div>
        </div>
    </div>

  </div>

{% endblock %}