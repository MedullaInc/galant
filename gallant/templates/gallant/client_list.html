{% extends "base_sidebar.html" %}
{% load bootstrap i18n django_bootstrap_breadcrumbs %}

{% block breadcrumbs %}
    {{ block.super }}
    {% breadcrumb "Clients" "client_list" %}
{% endblock %}

{% block section_title %}
    {% trans "Clients" %}
{% endblock %}

{% block sidebar %}

    <a href="{% url 'add_client' %}">
        <button type="button" class="btn btn-default sidebar">
            {% trans "Add New Client" %}
        </button>
    </a>

{% endblock %}

{% block center_content %}
    <table class="table table-striped table-bordered">
        <thead>
        <th>{% trans "Name" %}</th>
        <th>{% trans "Type" %}</th>
        <th>{% trans "Size" %}</th>
        <th>{% trans "Status" %}</th>
        </thead>
        {% for client in object_list %}
            <tr data-rel="{{ client.id }}" style="cursor: pointer">
                <td>{{ client.name }}</td>
                <td>{{ client.get_type_display }}</td>
                <td>{{ client.get_size_display }}</td>
                <td>{{ client.get_status_display }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">
                    No clients yet.
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

{% block extra_body %}
    <script>
        $('.table > tbody > tr').click(function () {
            window.location.href = "{% url 'client_detail' %}" + $(this).attr('data-rel')
        });
    </script>
{% endblock %}